<div class="container">
  <container-element [ngSwitch]="currentPage">
    <some-element *ngSwitchCase=-1>
    <mat-sidenav-container>
    <mat-sidenav-content>
      <div class="container">
        <h1><u><b>Welcome to the interview</b></u></h1>
        <div class="row">
          <div class="col-12">
            <h2>Participant Identifier</h2>
            <div *ngIf="participantIdentifierSet; else elseblock">
              <h2><b>Participant:</b> {{participantIdentifier}}</h2>
              <button mat-raised-button color="primary" (click)="participantIdentifierSet=false">Edit</button>
            </div>
            <ng-template #elseblock>
              <form>
              <mat-form-field appearance="fill" floatLabel="always" class="questionbox">
                <mat-lable>Set Participants identifier:</mat-lable>
                <input matInput type="text" #participantname>
                <mat-hint>E.g- 01, Participant89, p104</mat-hint>
              </mat-form-field>
              <br>
              <br>
              <button mat-raised-button (click)="updateParticipantName(participantname.value)">Set Participant Identifier</button>
            </form>
            </ng-template>
          </div>
        </div>
        <br>
        <br>
        <div class="row">
          <div class="col-12">
            <h2>Optional Settings:</h2>
        <div *ngIf="!dontdisplay">
          <button mat-raised-button  (click)="uploaded=true; dontdisplay=true">Upload File</button>
        </div>
        <div *ngIf="uploaded">
          <input type="file" (change)="onFileSelected($event)">
        </div>
          </div>
        </div>
        <br>
        <br>
        <div class="row">
          <div class="col-12">
            <button mat-raised-button  color="primary" (click)="currentPage=0; started=true" class="right">Start Interview</button>
          </div>
        </div>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
      </some-element>

    <some-element *ngSwitchCase=0>
    <!-- Load Devices Page -->
    <app-device
      [accountgraph]="accountgraph"
      [tabs]="devicesKeys"
      (getAccountgraph)="getAccountgraph($event)"
      (getDeviceKeys)="getDeviceKeys($event)">
    </app-device>
    </some-element>

    <some-element *ngSwitchCase=1>
    <!-- Load Password Manager Page -->
    <app-passwordmanager
      [accountgraph]="accountgraph"
      [tabs]="passwordmanagerKeys"
      (getAccountgraph)="getAccountgraph($event)"
      (getPasswordmanagerKeys)="getPasswordmanagerKeys($event)">
    </app-passwordmanager>
    </some-element>

    <some-element *ngSwitchCase=2>
      <!-- Load Emails Page -->
      <app-email
        [accountgraph]="accountgraph"
        [tabs]="emailKeys"
        (getAccountgraph)="getAccountgraph($event)"
        (getEmailKeys)="getEmailKeys($event)">
      </app-email>
      </some-element>

      <some-element *ngSwitchCase=3>
        <!-- Load Social Media Page -->
        <app-socialmedia
          [accountgraph]="accountgraph"
          [tabs]="socialmediaKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getSocialMediaKeys)="getSocialMediaKeys($event)">
        </app-socialmedia>
      </some-element>

      <some-element *ngSwitchCase=4>
        <!-- Load Finances Page -->
        <app-finance
          [accountgraph]="accountgraph"
          [tabs]="financeKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getFinanceKeys)="getFinanceKeys($event)">
        </app-finance>
      </some-element>

      <some-element *ngSwitchCase=5>
        <!-- Load Shopping Page -->
        <app-shopping
          [accountgraph]="accountgraph"
          [tabs]="shoppingKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getShoppingKeys)="getShoppingKeys($event)">
        </app-shopping>
      </some-element>

      <some-element *ngSwitchCase=6>
        <!-- Load Entertainment Page -->
        <app-entertainment
          [accountgraph]="accountgraph"
          [tabs]="entertainmentKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getEntertainmentKeys)="getEntertainmentKeys($event)">
        </app-entertainment>
      </some-element>

      <some-element *ngSwitchCase=7>
        <!-- Load Gaming Page -->
        <app-gaming
          [accountgraph]="accountgraph"
          [tabs]="gamingKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getGamingKeys)="getGamingKeys($event)">
        </app-gaming>
      </some-element>
      
      <some-element *ngSwitchCase=8>
        <!-- Load Other Page -->
        <app-other
          [accountgraph]="accountgraph"
          [tabs]="otherKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getOtherKeys)="getOtherKeys($event)">
        </app-other>
      </some-element>

      <some-element *ngSwitchCase=9>
        <!-- Load Passwords Page -->
        <app-password
          [accountgraph]="accountgraph"
          [tabs]="passwordKeys"
          (getAccountgraph)="getAccountgraph($event)"
          (getPasswordKeys)="getPasswordKeys($event)">
        </app-password>
        </some-element>

        <some-element *ngSwitchCase=10>
          <!-- Load Final Page -->
          <mat-sidenav-container>
            <mat-sidenav [(opened)]="opened" mode="push">
              <h2><u><b>Account Graphs</b></u></h2>
              <ol>
                <li><button mat-button color="primary" (click)="currentPage=0">Devices</button></li>
                <li><button mat-button color="primary" (click)="currentPage=1">Password Managers</button></li>
                <li><button mat-button color="primary" (click)="currentPage=2">Emails</button></li>
                <li><button mat-button color="primary" (click)="currentPage=3">Social Media</button></li>
                <li><button mat-button color="primary" (click)="currentPage=4">Finance</button></li>
                <li><button mat-button color="primary" (click)="currentPage=5">Shopping</button></li>
                <li><button mat-button color="primary" (click)="currentPage=6">Entertainment</button></li>
                <li><button mat-button color="primary" (click)="currentPage=7">Gaming</button></li>
                <li><button mat-button color="primary" (click)="currentPage=8">Other</button></li>
                <li><button mat-button color="primary" (click)="currentPage=9">Passwords Summary</button></li>
              </ol>
              <br>
              <br>
              <br>
              <button  mat-flat-button color="warn" (click)="startOver()">Reset</button>
            </mat-sidenav>
            <mat-sidenav-content>
              <button mat-flat-button class="sidebarBtn" (click)="opened=!opened" aria-label="Open the side menu">â˜° Go Back</button>
              <div class="container">
                <h1>Ended</h1>
                <h2>Thank you for participating in this Interview</h2>
                <div class="row">
                  <div class="col-12">
                    <div *ngIf="participantIdentifierSet; else elseblock">
                      <h2><b>Participant:</b> {{participantIdentifier}}</h2>
                      <button mat-raised-button color="primary" (click)="participantIdentifierSet=false">Edit</button>
                    </div>
                    <ng-template #elseblock>
                      <form>
                      <mat-form-field appearance="fill" floatLabel="always" class="questionbox">
                        <mat-lable>Set Participants identifier:</mat-lable>
                        <input matInput type="text" #participantname>
                        <mat-hint>E.g- 01, Participant89, p104</mat-hint>
                      </mat-form-field>
                      <br>
                      <br>
                      <button mat-raised-button (click)="updateParticipantName(participantname.value)">Set Participant Identifier</button>
                    </form>
                    </ng-template>
                  </div>
                </div>

                <br>
                <br>
                <button mat-raised-button color="primary" (click)="save()">Save JSON</button>
                <div class="col-12">
                  <br>
                  <br>
                  <h2><b>Account Analysis: </b>
                  <button mat-button  color="warn" (click)="visualise()">Reset View</button>
                  <label for="scaleSVG">Scale to fit: </label>
                  <input type="checkbox" id="scaleSVG" (click)="toggleScaleToFit()">
                  </h2>
                  
                </div>
                <div class="row">
                <div class="col-6">
                  <div class="col-12"><h3><b>Find Backdoors:</b></h3></div>
                  <div class="col-6">
                    <button mat-raised-button  (click)="findBackdoors('Device')">Devices</button>
                    <button mat-raised-button  (click)="findBackdoors('Password')">Passwords</button>
                    <button mat-raised-button  (click)="findBackdoors('Email')">Emails</button>
                    <button mat-raised-button  (click)="findBackdoors('Social Media')">Social Media</button>
                  </div>
                </div>
                <br>
                <div class="col-6">
                  <div class="col-12"><h3><b>Identify Vertices:</b></h3></div>
                  <div class="col-6">
                    <button mat-raised-button  (click)="findCentralVertices()">Show Central Vertices</button>
                  </div>
                </div>
              </div>
                <br>
                <br>
                <div id="GraphVisualisation"><p>Loading...</p></div>
              </div>
          </mat-sidenav-content>
          </mat-sidenav-container>
          </some-element>
          
    
  </container-element>


</div>



<router-outlet></router-outlet>




